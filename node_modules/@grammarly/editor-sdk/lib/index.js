/**
 * @license
 * (c) Copyright 2023 Grammarly, Inc.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=new Map;class n extends Error{constructor(e,n){super(),t(this,"args",void 0),t(this,"code",void 0),t(this,"url",void 0),t(this,"_c",void 0);var r=new URL("https://developer.grammarly.com/docs/error-explainer");r.searchParams.set("code",e.toString()),n.forEach((t=>r.searchParams.append("args",function(t){if(t instanceof Error)return t.message+"\n"+String(t.stack);if(null==t)return"null";if("object"==typeof t)try{return Object.prototype.toString.call(t)}catch(t){}return String(t)}(t)))),null!=this.stack&&r.searchParams.set("trace",this.stack),this.message="Minified error #".concat(e,": See ").concat(r.toString()," for details."),this.args=n,this.code=e,this.url=r.toString()}toUserMessage(){var t=e.get("".concat(this.code));if(null==t)return[this];var n=new Map(this.args.map(((t,e)=>["${".concat(e,"}"),t]))),r=t.split(/(\${\d+})/).filter((t=>""!==t));return r.map((t=>{var e;return null!==(e=n.get(t))&&void 0!==e?e:t}))}toJSON(){return{name:"InvariantError",message:this.message,description:this._n,code:this.code,args:this.args,stack:this.stack}}static setMessages(t){e=t}static create(t,e,r,o){null!=o&&e.push(o);var a=new n(t,e,r);return a.stack=null==o?void 0:o.stack,a._n=r,a}}const r=new WeakMap;async function o(t,e){const o=r.get(t);if(null!=o)return await o;!function(t){null==t.Grammarly&&(t.Grammarly={})}(t);const a=new Promise(((r,o)=>{try{let r=function(t,e){return t.document.querySelectorAll(`script[src^="${e.replace(/\?.*$/,"")}"]`)[0]}(t,e);null!=r?a():(r=function(t,e){const n=t.document.createElement("script");return n.src=e,t.document.head.appendChild(n),n}(t,e),r.addEventListener("load",a),r.addEventListener("error",(function(){try{throw new n(23,[])}catch(t){o(t)}})))}catch(t){return o(t)}function a(){try{if(null==t.Grammarly||"function"!=typeof t.Grammarly.EditorSDK)throw new n(22,[]);r(t.Grammarly)}catch(t){o(t)}}}));return r.set(t,a),await a}async function a(t,e,r,a){if("undefined"==typeof window&&void 0===a)throw new n(21,[]);const s=function(t){return"null"!==t.location.origin?t.location.origin:"null"!==t.origin?t.origin:"null"}(null!=a?a:window);"null"===s&&(null!=a?a:window).top!==(null!=a?a:window)&&console.warn("Grammarly is not supported in IFrames with `null` origin. Consider adding `sandbox='allow-same-origin allow-scripts'` to <iframe> element.");const i=new URL("https://js.grammarly.com/grammarly-editor-sdk@2.3",s);null!=e&&i.searchParams.set("clientId",e),i.searchParams.set("packageName",t);const c=await o(null!=a?a:window,i.toString());if(null!=e)return new c.EditorSDK(e,r)}exports.callbackToEventName={onBeforeSuggestionCardOpen:"before-suggestion-card-open",onSuggestionCardOpen:"suggestion-card-open",onSuggestionCardClose:"suggestion-card-close",onSuggestionCardAction:"suggestion-card-action",onPluginTurnedOff:"plugin-turned-off",onPluginError:"plugin-error",onDocumentStats:"document-stats",onSessionStats:"session-stats"},exports.init=async function(t,e,n){return await a("@grammarly/editor-sdk",t,e,n)},exports.init_with_packageName=a;
